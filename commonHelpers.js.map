{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport izitoast from \"izitoast\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst dateInput = document.querySelector(\"input\");\nconst startBtn = document.querySelector(\"button\");\nstartBtn.disabled = true;\nstartBtn.addEventListener(\"click\", onButtonClick);\nvar daysValue = document.querySelector('.value[data-days]');\nvar hoursValue = document.querySelector('.value[data-hours]');\nvar minutesValue = document.querySelector('.value[data-minutes]');\nvar secondsValue = document.querySelector('.value[data-seconds]');\n\nlet selectedDate;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n      if (selectedDates[0] > Date.now()) {\n          startBtn.disabled = false;\n          selectedDate = selectedDates[0];\n        } else {\n            startBtn.disabled = true;\n            izitoast.error({\n                message: \"Please choose a date in the future\"\n            });\n        }\n    },\n};\n\nflatpickr(\"#datetime-picker\", options);\n\nfunction onButtonClick(e) {\n    dateInput.disabled = true;\n    startBtn.disabled = true;\n\n    const intervalId = setInterval(() => {\n        let timeLeft = convertMs(selectedDate - Date.now());\n        if ((timeLeft.days + timeLeft.hours + timeLeft.minutes + timeLeft.seconds) === 0) {\n            clearInterval(intervalId);\n            dateInput.disabled = false;\n        }\n        updateClockFace(timeLeft);\n    }, 1000);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction updateClockFace({ days, hours, minutes, seconds }) {\n    secondsValue.innerHTML = String(seconds).padStart(2, \"0\");\n    minutesValue.innerHTML = String(minutes).padStart(2, \"0\");\n    hoursValue.innerHTML = String(hours).padStart(2, \"0\");\n    daysValue.innerHTML = String(days).padStart(2, \"0\");\n}\n\n// console.log(updateClockFace(convertMs(2000))); // {days: 0, hours: 0, minutes: 0, seconds: 2}"],"names":["dateInput","startBtn","onButtonClick","daysValue","hoursValue","minutesValue","secondsValue","selectedDate","options","selectedDates","izitoast","flatpickr","intervalId","timeLeft","convertMs","updateClockFace","ms","days","hours","minutes","seconds"],"mappings":"+IAKA,MAAMA,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAW,SAAS,cAAc,QAAQ,EAChDA,EAAS,SAAW,GACpBA,EAAS,iBAAiB,QAASC,CAAa,EAChD,IAAIC,EAAY,SAAS,cAAc,mBAAmB,EACtDC,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAe,SAAS,cAAc,sBAAsB,EAC5DC,EAAe,SAAS,cAAc,sBAAsB,EAEhE,IAAIC,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACfA,EAAc,CAAC,EAAI,KAAK,IAAG,GAC3BR,EAAS,SAAW,GACpBM,EAAeE,EAAc,CAAC,IAE5BR,EAAS,SAAW,GACpBS,EAAS,MAAM,CACX,QAAS,oCACzB,CAAa,EAER,CACL,EAEAC,EAAU,mBAAoBH,CAAO,EAErC,SAASN,EAAc,EAAG,CACtBF,EAAU,SAAW,GACrBC,EAAS,SAAW,GAEpB,MAAMW,EAAa,YAAY,IAAM,CACjC,IAAIC,EAAWC,EAAUP,EAAe,KAAK,IAAK,CAAA,EAC7CM,EAAS,KAAOA,EAAS,MAAQA,EAAS,QAAUA,EAAS,UAAa,IAC3E,cAAcD,CAAU,EACxBZ,EAAU,SAAW,IAEzBe,EAAgBF,CAAQ,CAC3B,EAAE,GAAI,CACX,CAEA,SAASC,EAAUE,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASL,EAAgB,CAAE,KAAAE,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACxDd,EAAa,UAAY,OAAOc,CAAO,EAAE,SAAS,EAAG,GAAG,EACxDf,EAAa,UAAY,OAAOc,CAAO,EAAE,SAAS,EAAG,GAAG,EACxDf,EAAW,UAAY,OAAOc,CAAK,EAAE,SAAS,EAAG,GAAG,EACpDf,EAAU,UAAY,OAAOc,CAAI,EAAE,SAAS,EAAG,GAAG,CACtD"}